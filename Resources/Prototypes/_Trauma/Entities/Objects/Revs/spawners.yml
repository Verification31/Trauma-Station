- type: entity
  parent: [ BaseItem, BaseRevMinorContraband ]
  id: RevDropPodTraps
  name: drop pod beacon (caltrop mold)
  description: Hacks a nearby shipping pod containing needed items and reroutes it to your location.
  components:
  - type: Sprite
    sprite: _Trauma/Objects/Revs/droppodbeacon.rsi
    state: icon
  - type: Item
    size: Small
  - type: Damageable
    damageContainer: Inorganic
  - type: TriggerOnUse
  - type: TimerTrigger
    delay: 0.9
  - type: Destructible
    thresholds:
    - trigger: !type:DamageTrigger
        damage: 100 # for nuke
      behaviors:
      - !type:DoActsBehavior
        acts: ["Destruction"]
    - trigger: !type:DamageTrigger
        damage: 50
      behaviors:
      - !type:SpawnEntitiesBehavior
        offset: 0
        spawn:
          SpawnPodRevTraps:
            min: 1
            max: 1
      - !type:DoActsBehavior
        acts: ["Destruction"]
  - type: TwoStageTrigger
    keysIn:
    - timer
    triggerDelay: 1
    components:
    - type: DamageOverTime
      damage:
        types:
          Slash: 50
      interval: 0.1
      ignoreResistances: true

- type: entity
  parent: SpawnSupplyEmpty
  id: SpawnPodRevTraps
  categories: [ HideSpawnMenu ]
  name: rev caltrops pod
  components:
  - type: SpawnOnDespawn
    prototype: BlueprintCaltrops
